- type: entity
  save: false
  name: Prawn
  parent: BaseMobOrganic
  id: BaseMobPrawn
  abstract: true
  components:
  - type: Markings
  - type: Icon
    sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
    state: full
  - type: Sprite
    layers:
    - map: [ "enum.HumanoidVisualLayers.Chest" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: torso_m
    - map: [ "enum.HumanoidVisualLayers.Head" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: head_m
    - map: ["enum.HumanoidVisualLayers.Eyes"]
      color: "#008800"
      sprite: Mobs/Customization/eyes.rsi
      state: no_eyes
    - map: [ "enum.HumanoidVisualLayers.RArm" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: r_arm
    - map: [ "enum.HumanoidVisualLayers.LArm" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: l_arm
    - map: [ "enum.HumanoidVisualLayers.RLeg" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: r_leg
    - map: [ "enum.HumanoidVisualLayers.LLeg" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: l_leg
    - shader: StencilClear
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: l_leg
    - shader: StencilMask
      map: [ "enum.HumanoidVisualLayers.StencilMask" ]
      sprite: Mobs/Customization/masking_helpers.rsi
      state: female_full
      visible: false
    - map: [ "jumpsuit" ]
      shader: StencilDraw
    - map: [ "enum.HumanoidVisualLayers.LHand" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: l_hand
    - map: [ "enum.HumanoidVisualLayers.RHand" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: r_hand
    - map: [ "enum.HumanoidVisualLayers.LFoot" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: l_foot
    - map: [ "enum.HumanoidVisualLayers.RFoot" ]
      color: "#ffffff"
      sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
      state: r_foot
    - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
      color: "#ffffff"
      sprite: Objects/Misc/handcuffs.rsi
      state: body-overlay-2
      visible: false
    - map: [ "id" ]
    - map: [ "gloves" ]
    - map: [ "shoes" ]
    - map: [ "ears" ]
    - map: [ "outerClothing" ]
    - map: [ "eyes" ]
    - map: [ "belt" ]
    - map: [ "neck" ]
    - map: [ "back" ]
    - map: [ "mask" ]
    - map: [ "head" ]
    - map: [ "pocket1" ]
    - map: [ "pocket2" ]
  - type: Body
    template: HumanoidTemplate
    preset: PrawnPreset
  - type: Damageable
    damageContainer: Biological
  - type: MobState
    thresholds:
      0: Alive
      100: Dead
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:GibBehavior { }
  - type: SlowOnDamage #modified speeds because they're so weak
    speedModifierThresholds:
      60: 0.9
      80: 0.7
  - type: Speech

- type: entity
  save: false
  name: Prawn
  parent: BaseMobOrganicDummy
  id: MobPrawnDummy
  noSpawn: true
  description: A dummy prawn meant to be used in character setup.
  components:
    - type: Sprite
      netsync: false
      drawdepth: Mobs
      layers:
        - map: [ "enum.HumanoidVisualLayers.Chest" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: torso_m
        - map: [ "enum.HumanoidVisualLayers.Head" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: head_m
        - map: ["enum.HumanoidVisualLayers.Eyes"]
          color: "#008800"
          sprite: Mobs/Customization/eyes.rsi
          state: no_eyes
        - map: [ "enum.HumanoidVisualLayers.RArm" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: r_arm
        - map: [ "enum.HumanoidVisualLayers.LArm" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: l_arm
        - map: [ "enum.HumanoidVisualLayers.RLeg" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: r_leg
        - map: [ "enum.HumanoidVisualLayers.LLeg" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: l_leg
        - shader: StencilClear
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: l_leg
        - shader: StencilMask
          map: [ "enum.HumanoidVisualLayers.StencilMask" ]
          sprite: Mobs/Customization/masking_helpers.rsi
          state: female_full
          visible: false
        - map: [ "jumpsuit" ]
          shader: StencilDraw
        - map: [ "enum.HumanoidVisualLayers.LHand" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: l_hand
        - map: [ "enum.HumanoidVisualLayers.RHand" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: r_hand
        - map: [ "enum.HumanoidVisualLayers.LFoot" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: l_foot
        - map: [ "enum.HumanoidVisualLayers.RFoot" ]
          color: "#b8b8b8"
          sprite: EstacaoPirata/Mobs/Species/Prawn/parts.rsi
          state: r_foot
        - map: [ "enum.HumanoidVisualLayers.Handcuffs" ]
          color: "#ffffff"
          sprite: Objects/Misc/handcuffs.rsi
          state: body-overlay-2
          visible: false
        - map: [ "id" ]
        - map: [ "gloves" ]
        - map: [ "shoes" ]
        - map: [ "ears" ]
        - map: [ "outerClothing" ]
        - map: ["eyes"]
        - map: [ "belt" ]
        - map: [ "neck" ]
        - map: [ "back" ]
        - map: [ "mask" ]
        - map: [ "head" ]
        - map: [ "pocket1" ]
        - map: [ "pocket2" ]

- type: entity
  save: false
  parent: BaseMobPrawn
  id: MobPrawn
  components:
    - type: InteractionPopup
      successChance: 1
      interactSuccessString: hugging-success-generic
      interactSuccessSound: /Audio/Effects/thudswoosh.ogg
      messagePerceivedByOthers: hugging-success-generic-others
    - type: Mind
      showExamineInfo: true
    - type: Input
      context: "human"
    - type: MobMover
    - type: InputMover
    - type: Vocal
      maleScream: /Audio/EstacaoPirata/Voice/Prawn/prawn_scream.ogg
      femaleScream: /Audio/EstacaoPirata/Voice/Prawn/prawn_scream.ogg
    - type: Alerts
    - type: Actions
    - type: Eye
    - type: CameraRecoil
    - type: Examiner
    - type: CanHostGuardian
    - type: LobsterAccent
    - type: Faction
      factions:
      - SimpleHostile
    - type: RandomMetadata
      nameSegments:
      - PrawnNameKingdom
      - PrawnNameTitle
    - type: Butcherable
      spawned:
        - id: ClothingHeadHatCthulhu
          amount: 1
        - id: FoodMeatShrimp
          amount: 5
    - type: NoSlip
    - type: GhostTakeoverAvailable
      makeSentient: true
      name: Prawn
      description: You are the Prawn, scavenge food in order to produce prawn minions to do your bidding.
      rules: You are an antagonist, scavenge, attack, and grow your hoard!
    - type: Prawn
      actionRaiseArmy:
        useDelay: 4
        icon: Interface/Actions/ratKingArmy.png
        name: prawn-raise-army-name
        description: prawn-raise-army-description
        itemIconStyle: NoItem
        event: !type:PrawnRaiseArmyActionEvent
      thirstPerArmyUse: 75
      actionDomain:
        useDelay: 10
        icon: Interface/Actions/ratKingDomain.png
        name: prawn-domain-name
        description: prawn-domain-description
        itemIconStyle: NoItem
        event: !type:PrawnDomainActionEvent
      thirstPerDomainUse: 150
    - type: DiseaseCarrier
      carrierDiseases:
      - VentCough
      - AMIV
      - SpaceCold
      - SpaceFlu
      - BirdFlew
      - VanAusdallsRobovirus
      - BleedersBite
      - Plague
      - TongueTwister
    - type: MobPrice
      price: 2500
    - type: Hunger
    - type: Thirst

- type: entity
  name: Prawn Servant
  id: MobPrawnServant
  parent: SimpleMobBase
  description: He is a mini prawn. He don't make the rules.
  components:
  - type: CombatMode
  - type: MovementSpeedModifier
    baseWalkSpeed : 3.5
    baseSprintSpeed : 3.5
  - type: InputMover
  - type: MobMover
  - type: HTN
    rootTask: SimpleHostileCompound
  - type: Reactive
    groups:
      Flammable: [Touch]
      Extinguish: [Touch]
  - type: Faction
    factions:
    - SimpleHostile
  - type: Sprite
    drawdepth: SmallMobs
    sprite: EstacaoPirata/Mobs/Animals/prawn.rsi
    scale: 0.7, 0.7
    layers:
    - map: ["enum.DamageStateVisualLayers.Base"]
      state: prawn
  - type: Physics
    bodyType: KinematicController
  - type: Fixtures
    fixtures:
    - shape:
        !type:PhysShapeCircle
        radius: 0.2
      mass: 4 #Bulky by mouse standards...
      mask:
      - SmallMobMask
      layer:
      - SmallMobLayer
  - type: MobState
    thresholds:
      0: Alive
      30: Critical
      60: Dead
  - type: MeleeWeapon
    hidden: true
    range: 1
    arcwidth: 0
    arc: claw
    damage:
      types:
        Slash: 5
        Piercing: 3
  - type: Body
    template: HumanoidTemplate
    preset: PrawnPreset
  - type: Appearance
  - type: DamageStateVisuals
    rotate: true
    states:
      Alive:
        Base: prawn
      Critical:
        Base: crit
      Dead:
        Base: dead
  - type: Puller
    needsHands: false
  - type: DiseaseCarrier
    carrierDiseases:
    - VentCough
    - AMIV
    - SpaceCold
    - SpaceFlu
    - BirdFlew
    - VanAusdallsRobovirus
    - BleedersBite
    - Plague
    - TongueTwister
  - type: Vocal
    maleScream: /Audio/EstacaoPirata/Voice/Prawn/prawn_scream.ogg
    femaleScream: /Audio/EstacaoPirata/Voice/Prawn/prawn_scream.ogg
    wilhelmProbability: 0.001
  - type: GhostTakeoverAvailable
    makeSentient: true
    name: Prawn Servant
    description: You are a Prawn Servant. You must follow your king's orders.
    rules: You are an antagonist, scavenge, attack, and serve your king!
  - type: Tag
    tags:
      - CannotSuicide
      - DoorBumpOpener
      - FootstepSound
  - type: NoSlip
  - type: MobPrice
    price: 500 # prawn wealth
  - type: LobsterAccent
    isBoss: false
